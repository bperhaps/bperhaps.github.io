---
title: "데이터 베이스 정리"
date: 2020-10-21 05:59:00 +0900
categories: study database
---

### 키
---

|키의 유형| 정의|
|--------|-----|
|수퍼 키|한 릴레이션 내의 특정 투플을 고유하게 나타낼 수 있는 애트리뷰트 또는 애트리뷰트들의 집합|
|후보 키|슈퍼 키 중 가장 작은 크기를 같는 집합|
|기본 키|DBA가 후보 키 중 하나를 기본 키로 선정|
|대리 키|인위적으로 추가된 기본 키|
|대체 키|기본키로 선정되지 않은 후보키|
|외래 키|다른 릴레이션의 기본 키를 참조하는 애트리뷰트|

### 무결성 제약조건
---
- 도메인 무결성 제약조건
  - 각 애트리뷰트 값이 반드시 원자값이어야 한다.
  - 값의 데이터 타입을 지정, 디폴트 값, 범위 지정등의 조건.
  - DBMS는 어느정도의 데이터 무결성을 유지시켜줌.
- 키 무결성 제약조건
  - 키 애트리뷰트에 중복된 값이 있어서는 안된다.
- 엔티티 무결성 제약조건
  - 기본키를 구성하는 애트리뷰트는 NULL 값을 가지면 안된다.
  - 대체키에는 적용되지 않는다.
- 참조 무결성 제약조건 (아래 두개 중 하나만 만족하면 만족)
  - 외래 키의 값을 참조 하는 릴레이션의 어떤 투플의 기본 키 값과 같다.
  - 값을 참조 하는 릴레이션에 외래 키의 값이 없으면 NULL을 갖는다.

  #### 무결성 제약조건의 유지
  ---
  데이터 베이스의 갱신연산 수행은 무결성 제약조건의 위배이 위배될 수 있음.

  - **삽입**
    DBMS가 잘못된 삽입 연산을 거절한다.
  - **삭제**
    - **제한(retricted)**
      위배를 야기한 연산을 거절한다.
    - **연쇄(cascade)**
      참조되는 릴레이션의 특정 튜플이 삭제되면, 해당 튜플을 참조하던 릴레이션의 튜플도 삭제한다.
    - **널값(nullify)**
      참조되는 릴레이션의 특정 튜플이 삭제되면, 해당 튜플을 참조하던 릴레이션의 튜플들의 외래키에 NULL값을 넣는다.
    - **default value**
      참조되는 릴레이션의 특정 튜플이 삭제되면, 해당 튜플을 참조하던 릴레이션의 튜플들의 외래키에 미리 정의한 값을 넣는다. 많이 default 값이 없다면 해당 연산은 거절된다.

### 집합 연산자
---
- #### 조인
  ---
  -  **세타조인과 동등조인.**
    두 릴레이션 R(A1, A2, ... An)과 S(B1, B2, ..., Bm)의 세타 조인의 결과는 차수가 n+m이고 애트리뷰트가 (A1, A2, ... , An, B1, B2, ..., Bm)인 릴레이션이며 조인 조건을 만족하는 튜플들로 이루어져 있다.
    세타는 {=, <>, <=, <, >=, >} 중 하나이며 이때 =를 이용하여 연산한 세타조인이 동등조인이다.

  - **자연 조인**
    두 릴레이션에서 조인 조건에 사용된 두 애트리뷰트가 같은 튜플들로 이루어진 릴레이션. 동등조인과 다른점은 조인 조건에 사용된 애트리뷰트의 중복이 없다.
  - **외부조인**
    - 왼쪽 외부 조인
      -  R LEFT JOIN S 인 경우, R의 모든 튜플을 결과에 포함시키고, S에 관련된 튜플이 없으면 해당 애트리뷰트를 NULL로 채운다.
    - 오른쪽 외부 조인
      -  R RIGHT JOIN S 인 경우, R의 모든 튜플을 결과에 포함시키고, S에 관련된 튜플이 없으면 해당 애트리뷰트를 NULL로 채운다.  
